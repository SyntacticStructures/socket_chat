<!DOCTYPE html>
<html>
<head>
	<title>Survey</title>
</head>
<body>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type ="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type ="text/javascript">
        $(document).ready(function (){
            var socket = io.connect();
            // we'll write all the socket stuff after the above line!
            $('form').submit(function (){
            	var data = {
            		name: $('#name').val(),
            		location: $('#location').val(),
            		comment: $('#comment').val(),
            	}
                socket.emit("posting_form", {data});
                return false;
            });
            socket.on('server_response', function(datas){
                /*this is was a 3d array, so lets whittle it down*/
                var data = datas.data;
                var datum = data.data;
                console.log(datum);
                $('#box').append('<p>Your name is ' + datum.name + '</p>');
                $('#box').append('<p>Your loaction is ' + datum.location + '</p>' );
                $('#box').append('Your comment is ' + datum.comment + '</p>');
            })
        })
    </script>
<form>
	name: <input type="text" name="name" id='name'>
	location: <select name = "location" id='location'>
		<option value="here">
			here
		</option>
		<option value="there">
			there
		</option>
	</select>
	comment: <textarea name = 'comment' id='comment'></textarea>
	<input type="submit">
</form>
<div id="box">
	
</div>
</body>
</html>